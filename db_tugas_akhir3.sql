-- phpMyAdmin SQL Dump
-- version 4.8.5
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Jul 18, 2021 at 07:22 PM
-- Server version: 10.1.40-MariaDB
-- PHP Version: 7.3.5

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `db_tugas_akhir3`
--

-- --------------------------------------------------------

--
-- Table structure for table `detail_golongan`
--

CREATE TABLE `detail_golongan` (
  `ID_DETAIL_GOLONGAN` varchar(5) NOT NULL,
  `NAMA_DETAIL_GOLONGAN` varchar(50) NOT NULL,
  `ID_GOLONGAN` varchar(5) DEFAULT NULL,
  `ID_NILAI` varchar(5) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `detail_golongan`
--

INSERT INTO `detail_golongan` (`ID_DETAIL_GOLONGAN`, `NAMA_DETAIL_GOLONGAN`, `ID_GOLONGAN`, `ID_NILAI`) VALUES
('DTG01', 'Golongan I A', 'GOL01', 'NIL01'),
('DTG02', 'Golongan I B', 'GOL01', 'NIL02'),
('DTG03', 'Golongan I C', 'GOL01', 'NIL03'),
('DTG04', 'Golongan I D', 'GOL01', 'NIL04'),
('DTG05', 'Golongan II A', 'GOL02', 'NIL01'),
('DTG06', 'Golongan II B', 'GOL02', 'NIL02'),
('DTG07', 'Golongan II C', 'GOL02', 'NIL03'),
('DTG08', 'Golongan II D', 'GOL02', 'NIL04'),
('DTG09', 'Golongan III A', 'GOL03', 'NIL01'),
('DTG10', 'Golongan III B', 'GOL03', 'NIL02'),
('DTG11', 'Golongan III C', 'GOL03', 'NIL03'),
('DTG12', 'Golongan III D', 'GOL03', 'NIL04'),
('DTG13', 'Golongan IV A', 'GOL04', 'NIL01'),
('DTG14', 'Golongan IV B', 'GOL04', 'NIL02'),
('DTG15', 'Golongan IV C', 'GOL04', 'NIL03'),
('DTG16', 'Golongan IV D', 'GOL04', 'NIL04');

--
-- Triggers `detail_golongan`
--
DELIMITER $$
CREATE TRIGGER `id_detail_golongan` BEFORE INSERT ON `detail_golongan` FOR EACH ROW BEGIN
	SELECT COUNT(*) INTO @ID FROM detail_golongan;
	SET NEW.id_detail_golongan = CONCAT('DTG',LPAD(@ID+1,2,'0'));
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `gaji_utama`
--

CREATE TABLE `gaji_utama` (
  `ID_GAJU_UTAMA` varchar(7) NOT NULL,
  `ID_DETAIL_GOLONGAN` varchar(5) DEFAULT NULL,
  `NAMA_GAJI_UTAMA` varchar(50) DEFAULT NULL,
  `MASSA_KERJA` int(11) DEFAULT NULL,
  `NOMINAL_GAJI_UTAMA` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `gaji_utama`
--

INSERT INTO `gaji_utama` (`ID_GAJU_UTAMA`, `ID_DETAIL_GOLONGAN`, `NAMA_GAJI_UTAMA`, `MASSA_KERJA`, `NOMINAL_GAJI_UTAMA`) VALUES
('GAJI001', 'DTG01', 'Gaji Pokok Gol 1 A', 0, 1560800),
('GAJI002', 'DTG02', 'Gaji Pokok Gol 1 B', 0, 0),
('GAJI003', 'DTG03', 'Gaji Pokok Gol 1 C', 1, 1),
('GAJI004', 'DTG04', 'Gaji Pokok Gol 1 D', 0, 0),
('GAJI005', 'DTG01', 'Gaji Pokok Gol 1 A', 1, 0),
('GAJI006', 'DTG01', 'Gaji Pokok Gol 1 A', 2, 1610000);

--
-- Triggers `gaji_utama`
--
DELIMITER $$
CREATE TRIGGER `id_gaji_utama` BEFORE INSERT ON `gaji_utama` FOR EACH ROW BEGIN
	SELECT COUNT(*) INTO @ID FROM gaji_utama;
	SET NEW.id_gaju_utama = CONCAT('GAJI',LPAD(@ID+1,3,'0'));
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `golongan`
--

CREATE TABLE `golongan` (
  `ID_GOLONGAN` varchar(5) NOT NULL,
  `NAMA_GOLONGAN` varchar(25) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `golongan`
--

INSERT INTO `golongan` (`ID_GOLONGAN`, `NAMA_GOLONGAN`) VALUES
('GOL01', 'Golongan I'),
('GOL02', 'Golongan II'),
('GOL03', 'Golongan III'),
('GOL04', 'Golongan IV');

--
-- Triggers `golongan`
--
DELIMITER $$
CREATE TRIGGER `id_golongan` BEFORE INSERT ON `golongan` FOR EACH ROW BEGIN
	SELECT COUNT(*) INTO @ID FROM golongan;
	SET NEW.id_golongan = CONCAT('GOL',LPAD(@ID+1,2,'0'));
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `hari_kerja`
--

CREATE TABLE `hari_kerja` (
  `ID_HARI` int(11) NOT NULL,
  `NAMA_HARI` varchar(10) NOT NULL,
  `STATUS_KERJA` int(11) NOT NULL COMMENT '0 = LIBUR 1 = KERJA',
  `MASUK_AWAL` time NOT NULL,
  `MASUK_AKHIR` time NOT NULL,
  `KELUAR_AWAL` time NOT NULL,
  `KELUAR_AKHIR` time NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `hari_kerja`
--

INSERT INTO `hari_kerja` (`ID_HARI`, `NAMA_HARI`, `STATUS_KERJA`, `MASUK_AWAL`, `MASUK_AKHIR`, `KELUAR_AWAL`, `KELUAR_AKHIR`) VALUES
(1, 'Senin', 1, '20:20:00', '20:21:00', '20:13:00', '20:16:00'),
(2, 'Selasa', 1, '14:36:00', '14:59:00', '13:00:00', '13:30:00'),
(3, 'Rabu', 1, '22:57:00', '23:15:00', '22:53:00', '23:00:00'),
(4, 'Kamis', 1, '23:57:00', '23:59:00', '23:55:00', '23:59:00'),
(5, 'Jumat', 1, '00:13:00', '00:15:00', '00:15:00', '00:17:00'),
(6, 'Sabtu', 0, '07:00:00', '07:12:00', '17:26:00', '19:00:00'),
(7, 'Minggu', 1, '21:23:00', '21:50:00', '21:16:00', '21:50:00');

-- --------------------------------------------------------

--
-- Table structure for table `history_pegawai`
--

CREATE TABLE `history_pegawai` (
  `ID_HISTORY_PEGAWAI` varchar(8) NOT NULL,
  `ID_PEGAWAI` char(8) NOT NULL,
  `ID_JABATAN` char(8) NOT NULL,
  `NIP` char(18) NOT NULL,
  `NAMA_PEGAWAI` varchar(50) NOT NULL,
  `GAJI_POKOK` int(8) NOT NULL,
  `TUNJANGAN` int(6) NOT NULL,
  `TIPE_AKUN` varchar(7) NOT NULL COMMENT 'ADMIN / PEGAWAI',
  `USERNAME` varchar(30) NOT NULL,
  `PASSWORD` varchar(132) NOT NULL,
  `JENIS_KELAMIN` varchar(10) NOT NULL,
  `STATUS_KEPEGAWAIAN` varchar(5) NOT NULL,
  `ALAMAT` varchar(50) NOT NULL,
  `EMAIL` varchar(50) DEFAULT NULL,
  `TELEPON` char(13) NOT NULL,
  `TANGGAL_LAHIR` char(10) NOT NULL,
  `STATUS` tinyint(1) NOT NULL DEFAULT '1',
  `TOKEN_NOTIF` varchar(100) NOT NULL,
  `STATUS_HISTORY_PEGAWAI` varchar(20) NOT NULL,
  `TANGGAL_HISTORY_PEGAWAI` varchar(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `history_pegawai`
--

INSERT INTO `history_pegawai` (`ID_HISTORY_PEGAWAI`, `ID_PEGAWAI`, `ID_JABATAN`, `NIP`, `NAMA_PEGAWAI`, `GAJI_POKOK`, `TUNJANGAN`, `TIPE_AKUN`, `USERNAME`, `PASSWORD`, `JENIS_KELAMIN`, `STATUS_KEPEGAWAIAN`, `ALAMAT`, `EMAIL`, `TELEPON`, `TANGGAL_LAHIR`, `STATUS`, `TOKEN_NOTIF`, `STATUS_HISTORY_PEGAWAI`, `TANGGAL_HISTORY_PEGAWAI`) VALUES
('HP001', 'PEG010', '3', '12571926', 'Adelia Putrii', 1000000, 15000, 'PEGAWAI', 'adelia', '$2y$10$1qvG4wEQY0ByJb9kQzbLRulVp22luvwvFG6ahgkQGA2heuaPNcrUW', '1', 'PNS', 'Jalan Apel', NULL, '08112233445', '1990-04-11', 1, '', 'edit', '07-07-2021 10:33:05'),
('HP002', 'PEG009', '3', '123', 'Salsabil R', 500000, 15000, 'PEGAWAI', 'salsa', '$2y$10$PfMFg5OmSjZV/ZeJvKG1aOvBB/Kg6c4Hdacgiw9Q0TGeWPXrT3J4.', '1', 'PNS', 'Jalan Anggur', NULL, '0812345678', '1990-05-14', 1, '', 'edit', '08-07-2021 01:15:49'),
('HP003', 'PEG004', '3', '196203101983032022', 'Sri Respati, S.Pd.SD', 500000, 3000, 'PEGAWAI', 'srirespati', '$2y$10$XhtfXYSEH3lsvqFm2mu4PuJXe0lhEh2LLsbqhbOs7pfbxbzHwoeM.', '1', 'PNS', 'Jl. Anggur X No. 10', NULL, '08', '1962-03-10', 1, '', 'edit', '09-07-2021 12:08:53'),
('HP004', 'PEG010', '2', '12571926', 'Adelia Putrii', 1000000, 15000, 'PEGAWAI', 'adelia', '$2y$10$QqvQLcbCgpOv19hWtakPNeqtccQBhOvEvFi2mWs5TkaT8LeyfVh2u', '1', 'PNS', 'Jalan Apel', NULL, '08112233445', '1990-04-11', 1, '', 'edit', '09-07-2021 12:12:13');

--
-- Triggers `history_pegawai`
--
DELIMITER $$
CREATE TRIGGER `id_history_pegawai_auto` BEFORE INSERT ON `history_pegawai` FOR EACH ROW BEGIN
	SELECT COUNT(*) INTO @ID FROM history_pegawai;
	SET NEW.id_history_pegawai = CONCAT('HP',LPAD(@ID+1,3,'0'));
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `jabatan`
--

CREATE TABLE `jabatan` (
  `ID_JABATAN` char(8) NOT NULL,
  `NAMA_JABATAN` varchar(30) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `jabatan`
--

INSERT INTO `jabatan` (`ID_JABATAN`, `NAMA_JABATAN`) VALUES
('1', 'Tenaga Pendidik'),
('2', 'Tenaga Kependidikan'),
('3', 'Kepala Sekolah');

-- --------------------------------------------------------

--
-- Table structure for table `nilai`
--

CREATE TABLE `nilai` (
  `ID_NILAI` varchar(5) NOT NULL,
  `NILAI` varchar(2) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `nilai`
--

INSERT INTO `nilai` (`ID_NILAI`, `NILAI`) VALUES
('NIL01', 'A'),
('NIL02', 'B'),
('NIL03', 'C'),
('NIL04', 'D');

--
-- Triggers `nilai`
--
DELIMITER $$
CREATE TRIGGER `id_nilai` BEFORE INSERT ON `nilai` FOR EACH ROW BEGIN
	SELECT COUNT(*) INTO @ID FROM nilai;
	SET NEW.id_nilai = CONCAT('NIL',LPAD(@ID+1,2,'0'));
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `pegawai`
--

CREATE TABLE `pegawai` (
  `ID_PEGAWAI` char(8) NOT NULL,
  `ID_DETAIL_GOLONGAN` varchar(5) DEFAULT NULL,
  `ID_JABATAN` char(8) NOT NULL,
  `NIP` char(18) NOT NULL,
  `NAMA_PEGAWAI` char(50) NOT NULL,
  `TGL_MASUK_KERJA` date DEFAULT NULL,
  `TIPE_AKUN` varchar(7) NOT NULL COMMENT 'ADMIN / PEGAWAI',
  `USERNAME` varchar(30) NOT NULL,
  `PASSWORD` varchar(132) NOT NULL,
  `JENIS_KELAMIN` varchar(10) NOT NULL,
  `STATUS_KEPEGAWAIAN` tinyint(1) NOT NULL,
  `ALAMAT` varchar(50) NOT NULL,
  `EMAIL` varchar(50) DEFAULT NULL,
  `TELEPON` char(13) NOT NULL,
  `TANGGAL_LAHIR` char(10) NOT NULL,
  `STATUS` tinyint(1) NOT NULL,
  `TOKEN_NOTIF` varchar(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `pegawai`
--

INSERT INTO `pegawai` (`ID_PEGAWAI`, `ID_DETAIL_GOLONGAN`, `ID_JABATAN`, `NIP`, `NAMA_PEGAWAI`, `TGL_MASUK_KERJA`, `TIPE_AKUN`, `USERNAME`, `PASSWORD`, `JENIS_KELAMIN`, `STATUS_KEPEGAWAIAN`, `ALAMAT`, `EMAIL`, `TELEPON`, `TANGGAL_LAHIR`, `STATUS`, `TOKEN_NOTIF`) VALUES
('PEG001', 'DTG01', '3', '197006181993081002', 'Sri Bambang Rubo R, S.Pd, M.MPd', '2015-01-01', 'PEGAWAI', 'sribambang', '$2y$10$sRUKMmTMSyEYK9aapp4FRukb87U2OmY33YBtuY5IHarpPYvfQUJ7W', '0', 0, 'Jl. Urip Sumoharjo', NULL, '82330308409', '1970-06-18', 1, ''),
('PEG002', 'DTG01', '1', '12', 'Admin App', NULL, 'ADMIN', 'admin', '$2y$10$sRUKMmTMSyEYK9aapp4FRukb87U2OmY33YBtuY5IHarpPYvfQUJ7W', '0', 0, 'Jl. Urip Sumoharjo', NULL, '82330308409', '1970-06-18', 1, '557c2abc-de3d-49b5-96a4-e49f10bb06a5'),
('PEG003', NULL, '1', '197006181993081002', 'Karyawan Dev', NULL, 'PEGAWAI', 'dev', '$2y$10$sRUKMmTMSyEYK9aapp4FRukb87U2OmY33YBtuY5IHarpPYvfQUJ7W', '0', 0, 'Jl. Urip Sumoharjo', NULL, '82330308409', '1970-06-18', 1, ''),
('PEG004', 'DTG14', '3', '196203101983032022', 'Sri Respati, S.Pd.SD', NULL, 'PEGAWAI', 'srirespati', '$2y$10$sRUKMmTMSyEYK9aapp4FRukb87U2OmY33YBtuY5IHarpPYvfQUJ7W', '1', 0, 'Jl. Anggur X No. 10', NULL, '08', '1962-03-10', 1, ''),
('PEG005', 'DTG14', '2', '196312091983031006', 'Sumarni, S.Pd', NULL, 'PEGAWAI', 'sumarni', '$2y$10$sRUKMmTMSyEYK9aapp4FRukb87U2OmY33YBtuY5IHarpPYvfQUJ7W', '0', 0, 'Jl. Trunojoyo No. 122', NULL, '08', '1963-12-09', 1, '557c2abc-de3d-49b5-96a4-e49f10bb06a5'),
('PEG006', 'DTG13', '2', '196703131991092003', 'Sudarsih, S.Pd.SD', NULL, 'PEGAWAI', 'sudarsih', '$2y$10$sRUKMmTMSyEYK9aapp4FRukb87U2OmY33YBtuY5IHarpPYvfQUJ7W', '1', 0, 'Jl. Pattimura No. 101', NULL, '08', '1967-03-13', 1, ''),
('PEG007', 'DTG12', '2', '196708121987032003', 'Suharmini, S.Pd', NULL, 'PEGAWAI', 'suharmini', '$2y$10$sRUKMmTMSyEYK9aapp4FRukb87U2OmY33YBtuY5IHarpPYvfQUJ7W', '1', 0, 'Jl. MT. Haryono No 24', NULL, '08', '1967-08-12', 1, '4efc272d-1355-4ca2-88db-30a812dc87d3'),
('PEG008', 'DTG10', '2', '196207061986062001', 'Mariyati, S.Pd', NULL, 'PEGAWAI', 'mariyati', '$2y$10$sRUKMmTMSyEYK9aapp4FRukb87U2OmY33YBtuY5IHarpPYvfQUJ7W', '1', 0, 'Sumur Waru Barat Kec. Nguling', NULL, '08', '1962-07-06', 1, ''),
('PEG009', NULL, '2', '123', 'Salsabil R', NULL, 'PEGAWAI', 'salsa', '$2y$10$sRUKMmTMSyEYK9aapp4FRukb87U2OmY33YBtuY5IHarpPYvfQUJ7W', '1', 1, 'Jalan Anggur', NULL, '0812345678', '1990-05-14', 1, ''),
('PEG010', NULL, '2', '12571926', 'Adelia Putrii', NULL, 'PEGAWAI', 'adelia', '$2y$10$sRUKMmTMSyEYK9aapp4FRukb87U2OmY33YBtuY5IHarpPYvfQUJ7W', '1', 0, 'Jalan Apel', NULL, '08112233445', '1990-04-11', 1, '');

-- --------------------------------------------------------

--
-- Table structure for table `penggajian`
--

CREATE TABLE `penggajian` (
  `ID_PENGGAJIAN` char(8) NOT NULL,
  `ID_DAFTAR_HADIR` int(11) DEFAULT NULL,
  `ID_TUNJANGAN` varchar(7) DEFAULT NULL,
  `ID_GAJU_UTAMA` varchar(7) DEFAULT NULL,
  `BULAN_GAJIAN` varchar(7) NOT NULL,
  `TOTAL_GAJI` int(11) NOT NULL,
  `CREATE_AT` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- --------------------------------------------------------

--
-- Table structure for table `presensi`
--

CREATE TABLE `presensi` (
  `ID_DAFTAR_HADIR` int(8) NOT NULL,
  `ID_PEGAWAI` char(8) NOT NULL,
  `TANGGAL` date NOT NULL,
  `STATUS_MASUK` varchar(5) DEFAULT NULL,
  `STATUS_KELUAR` varchar(5) DEFAULT NULL,
  `FOTO_MASUK` longblob,
  `FOTO_KELUAR` longblob,
  `JAM_MASUK` datetime DEFAULT NULL,
  `JAM_KELUAR` datetime DEFAULT NULL,
  `TOTAL_TUNJANGAN` int(6) NOT NULL,
  `KETERANGAN_MASUK` varchar(100) DEFAULT '',
  `KETERANGAN_KELUAR` varchar(100) DEFAULT ''
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `presensi`
--

INSERT INTO `presensi` (`ID_DAFTAR_HADIR`, `ID_PEGAWAI`, `TANGGAL`, `STATUS_MASUK`, `STATUS_KELUAR`, `FOTO_MASUK`, `FOTO_KELUAR`, `JAM_MASUK`, `JAM_KELUAR`, `TOTAL_TUNJANGAN`, `KETERANGAN_MASUK`, `KETERANGAN_KELUAR`) VALUES
(1, 'PEG010', '2021-07-18', 'Hadir', '', 0x646174613a696d6167652f6a7065673b6261736536342c2f396a2f34414151536b5a4a5267414241514141415141424141442f3277424441414d4341674d4341674d4441774d4541774d45425167464251514542516f484277594944416f4d4441734b4377734e44684951445134524467734c4542595145524d55465255564441385847425955474249554652542f3277424441514d454241554542516b4642516b554451734e464251554642515546425155464251554642515546425155464251554642515546425155464251554642515546425155464251554642515546425155464251554642542f7741415243414477415541444153494141684542417845422f3851414677414241514542414141414141414141414141414141414141454343662f4541435951415145414177414341674d4141515542414141414141454145534578416b465259524a78675a45694d7148423065482f7841415741514542415141414141414141414141414141414141414141514c2f78414158455145424151454141414141414141414141414141414141455145782f396f4144414d4241414952417845415077446c63465a6d5a3161554e56345a4b446d72796e465433386671766b6137544f3475594b474e637370584f5a6e5351417a5630646f4a755a2b35417868722f743330706b7a39565577376b56447339544d557856444f2b786464706d7136596f47474d7a526452464e6e366d77647a7859756e646e6d69524a6d716d4c5244785075655239312f4c47624b367042513333465537766c4249706a366b424e3969616d59756e4555444566337543455875366f4875597a42374d36674752647835325a4e315578326970686375596d75314854756935494c76662f41464d4b59702b5756612f6c6a6a426644694d387362736a687a46375541566d4d652b547838734c504a7a6e6352447678617a706f5038414a6b666355444554585a6e4b785445414d4d54576377643772354a3664775a503856656468687a464d514178564e5a7a6d4c37614b5959416663655478544e664a4e346767667950376d637358585941646f6c667933463078412f7869766b6137516578544446514b70725059505a6b3978414e784e5161714978556961575a333852387451514b34634f365a71756f41522f63457a464d5141784f62676d36714a41772b326e6b61367a50643471702b506143416e7576726251647a4f6d6f4239784e5a7a4d6b584a41444672783232527a6d5a31324342757161676b58554150757072753643565565653643654a7656552b576e474b62334144475a3037794c7433544e554133617a7265364474696d496f5a6a7a7348444631414466597a4d302b344159596a69486c694b596663414d4d5437314d78594234376961374d6d397854454543727a3951534b5967422f4a6a55504c735578424153714f494a6e645645375154784e4d79346477543569674a326f426a4d5458594a37723559772f38554542496e3344792f6b585455514b757a36676d2f5555547341496d523951635a72355978714231356a395552783276334879507853434239315231756c56494a342b4f63784d51657a4a683342412f7a584f41672f635858594b5a56703547706e654d7a307744786e6b59714a7664486b774457596d7577647a4f6d43426972733744794973447238524b2b4c6a4f364c7033424171355344754c6b5941526835472f6d503767427550494d5563774d527a6a7348376a6a4441434a6b7a6d485863557777416954314631324147496e335838732f425254385948694a486d316d5464633450545154785035486a32703547614c3241654f66716552422b36714a6a4d45786737452b356d4c72705541374566334d6d5a6b77774142712f76564d692f2b7a79632b3641646a714448797a5544767845314d376e6b774d59647a3132756837716164454544487550376d596f6e59494655316e4d4863557845514b2b527273474c6b696759596d757a4f4d2b6f7068674239326c7a34326135302b364342483977386f755431555048544563516374564d4e4241784531325a3748474949474b764f7a4a467141524e4f363549706a744241786b354531324356386b7855514d524e647a5048446d4c716742694a397a4a48794d56414d664d6359716557614b595941666a6d4a7237716552756969597a514f2b2b522f646657633055783671423437596d50754362717038356f49476666496d706e485975716747492f754c746f756f4b66456632776475597069414747504f7a386f756f49474b34316d632f7358585941524e64676d6378544441443778486675727037527869416169613742717575304538542b524848594a7564714159726a492b365a37584f64454550484437496e335565305856424d59716d7535676b5837714149784e4f36352f4854714b596143654a7634696137423736726b507371426f786e46484f4f77544d556f486966654938374d396a6a486167486434726a37615a722b57426f494749373977546358764b67643745676e7a4d6d3977412b366f34794e4d345864563030454f2b36706e335450755a4d507a55507832346a736d73396e6447344159723547443568376f756e63414b3778376f50335666736f49654f4b7648744233324b59374143493467396a6a4861674578677977544d656467426831453132486c32716e3475344945646e57435a6171593751514d653469626778646471414f39784f2b38542b315578306f4a2b50616f6d5a6e3778504c79794f34472f4a6f6a423775716d49494747493437422b34757531415035453132447673557730414d66565579646f4a6d4b664f594159795250764d4571706833425045785049594a6c395664444241773969505a6b7138594a38316376366f50612f37683375435932784f37354237463031414d617150342f644d397a4d6d47496256797a7950754366714f7833464131564e646f5059757577416a44617a534f7942346d5065496d706e445847645a494d6869716663397355784143504f77527a6d4b596f4234784e51652f77447358585941596a7633424d2f46564d4d45422b596e334d37646b656471416663542b776635565444764e4244767845314d3933565445454250714a71666c6d4b593755412f6b545879515450784645375150456d4d2b366e6c7433486d6656524d596a7a732f4c7358547567592f6c58572b6e33443579626d54487a55544878484b547866754b49376f414a6d4a72745447393058585941597a4563544f737864657168346b38747258495a355254464144735455796655576f426971612b71444879456f4159596d6f65574671706943597837694b65344a464e3141317a552f35677a4f4f4a6d414733314531325a7973557841385365524479374d354d51514c586b6137544f3470414350496557324b595942724a48637a48794d55414d54792f7466794d3058544138534a706739696d486452546576696a2b34505975714147474a7274547937366e534342485a3243526531414b2b577664423746786e6b476c4836624b5a397a50633166495446424178563151336d763541664d4537583866394c6c6f4a504a2b6167472b784e64673459706941476e636564673459755470415033453131676b7a706f47496d7577534b596431414d547933373142374631414445386a58594a4d365941596e6b5153766b3667675939783264676b5855413866754a33634837693667675654546c33555169694f3449455458594d5854413854666356544137706e63557841442b5250755a33464d4d414d522f637a6a2b78534147506354377161614b59594c34396f2f755a4976655141786d63336e6b487678464d51506d7672744d6d367271676d2f6d71664e426d5446514f39694f494a7631464d4f3441597a456f4e586b44784a35454862467951514c5365383045692f366577412b4938374e545437676756646e5a6b797a795445454464664c6e6144566377412f3469664f344a58492f64424472366a79434b2b6f707663414d52354233504a45375544785a3633366735647363593742417449347a6d6846484f344b654f506445726b2b6150376d41483869592b5a6e2b5264656f41524950597664774d756476496a69443363584a414446664c7831334e4d393346314150464b757337702f612b5741303045385448766352637a4a387854486168346d4d3778453139544e6f5278515a50474a716f35657a7965314544346e6c7544336366387750453745314d3978467764474234366961672f635837674269504a6b33736d644f3449474b70715a7a6d4c3977514b70716d62536e343969494655315166754b5964305544456564673969366477412b4a354469666c7469366431454376715a6936377143427571646d59757577514d56527832436269363741434a4433463132414553447433504a313243477170717037706b6f494658517a4a75766b6956454448496b7a6c3746787867482b4b2f6661447471386669676756632b7477787664524f515a38644d654f366a326d5444555131583142783356652b4c4551496d5473504c65356e37696764336965524479374678714342563251657a4a6867486a486b453346456477416d73507544324b596742486e594a504c6b44784e5447654f615a712b55454446552b356b7a46456742324a7033423748794d51416f6c6f652f4646794f3441524e664d795a696e7a6d41483869594f7a4a754b4a41442b522f634873795959474d543077652b6f756e6345437161374479374647675978453132486c694b597142347a3037616965547274504a6f41597a32627832766a35426d6a7143347a395a2b4a366430504c4759346445414d65343648637a6859706a7451786a366a7972674f306551514b2b527273456a76346742486e594f49756f487673637a497236696e7143425650755a49706867654a76346a2b366962395558544137376d4d6e594a754b51514d565458594a48487a4241716d706e33464948696663386a50754362717571444959712f75435254465144487645646e595963785445454474553132487634696d4941524e51534c41444831452b393047716d49486964334531334d504c4579596f4234343361663954544f4d2f39305834594834347a58792f644272354a756f67595069493148705253414554372f7345726b33686f49434e586e366835647978386a2f3555514d5a6e716f617a6e74464d6663414569617a6d44754b596430414935784d6b585577514d56633437423746303771486962596d70346f5a6a6a4451504577784f7a4f2f694b56413857504f77544c76456633424458757161374249707663414b707274423037726b77376f49474d3735457964676d59706a55414d44453150797a464d5644784d4445313244387864647a41426e6b594f7a4f5037464d646742682b496a68334d34335857485a51515058496d71353278387464676e72576b722b50643178724f73557a397754465679483158316c303258474f31482f2f5a, '', '2021-07-18 21:14:57', NULL, 0, 'hadir', ''),
(2, 'PEG001', '2021-07-18', 'Hadir', 'Sakit', 0x646174613a696d6167652f6a7065673b6261736536342c2f396a2f34414151536b5a4a5267414241514141415141424141442f3277424441414d4341674d4341674d4441774d4541774d45425167464251514542516f484277594944416f4d4441734b4377734e44684951445134524467734c4542595145524d55465255564441385847425955474249554652542f3277424441514d454241554542516b4642516b554451734e464251554642515546425155464251554642515546425155464251554642515546425155464251554642515546425155464251554642515546425155464251554642542f7741415243414477415541444153494141684542417845422f3851414677414241514542414141414141414141414141414141414141454343662f4541434d5141514542415145414167494242514541414141414141454145534578416b465259584553496f47526f544c2f7841415741514542415141414141414141414141414141414141414141514c2f78414158455145424151454141414141414141414141414141414141415246422f396f4144414d4241414952417845415077446c63455362566557674e386f31483375522b576a46543276685459764941524a73586b51434a4271767345434d324c796f42456d78655541496b474c795941524a73586b41496b324c796f42456d785941524a73586c4143506b324c7941455362463542513552494d586b41496e4a73586c51496e4a73576742564f4d33474c46514d2b362b4454534c794146563542396d35327534754945534456695948782f632b5268507a324c764e6f7142456e3231616f6756546c42717638416d6767524a74655a5551496b324c794942456d78594152494d586b55434a42712b555241695459764b67455a73586b55444b2f497a37326d7865554135456d78655641496b324c794942456d31574b67524b6a464d6f6351496e4a4635554169516659764941524a73586b554376794f6664656655666b5a6c465a434a4e727047557a4b7659344c6a74463546416a2f414458614c55416b324c7949424571766530586b41496b474c794145534446354541695459735544496b324c794b42456d7865526b2f3545354e6938696752494d586c45416a354e6938716f455362463541434a4e6938674247625654497142456d78386742453543716d515150596e494e563551514c5438634b656671717639503669736845714a74464b736d663669545a744144324d48324c554169636d7865514172396530474d41496b474c41434a4e69386742456d78655251492b5159764941524a73586b51434d324c79414553624635454169515976496f45546b324c794145536246354144493133566f7441437166756d6c644d5971426c576d78655641496e37714d61434256564b61647139474b6752494d57724945546b32756b45434a4e36316379434245354e72706a46416955474c79494245676b586b41496e4a7464684543506b474c794b42456778655241496b45324c4143506b474c794163695459764941567a6a326d786551416d5459744641695459764b6f42476256544971426b664a7332494248797530586c46446c5535516659764b6968506c7661445666383045434a4e6938716745546b324c7941455a73586b41496b324c7941455344463541434a4e69386742456d3155794551496b324c7941455362463541434d474c7941636a4e69386742456d78655141695459764941526d78655251496b324c4541794a4269774169545977417254534c794147524b375265555543722f4d477650494d3545715050614c794942456d786167455a745949455344466742456d31336a4651496b324c794942456d78655241492b51612f4a4b4b68456d78655655434a42697841496b324c794145534456655556416956502b5555716745534446354143725161715556416963673969387141524f545976494152494d574145536f2b786555452b504772424e3750664951444e6f6c646f764955434a4e6938716745536f30586b41496b324c79426b536156586b56416963672b786551416a354e6938694156796778655141713032713056416a4e712b5645434a796256655151696367312b535556446e33474437566949476245354e69387147526d78655241496b474c794b42582b5a744635514d695459764b6f484f56614456796a514765524f6242335a76397232434245714e466a49455362467141524a735741455344466742456d7865514169636d7865514169545976494152494e564d696f45664a73586b51437235515973414b757633546137794c45437154545769386f706d524b6a52655651434a4e6a354541695159764941524a7464494945536246354143716632303271386f71424744566565775135564f62546137796f4878376b6650595058366a6d50356f4945536246355641496b474c794145536246354143506e734771386845434a426a414375637076577538614b67565a7446674245677a616f42456d786551416a4e693869675a48794456655255434a4e69386a49455362463546416a4e6938694152386731392b344945536237463541434a79625865525543716339707456306f4a6e34716e4b625654494947566648724e372b492f4c6b457a4931506c3752655141695159764b6f4245354e69386742456d78596f45536246354541695459764941524a74563546514a6b324c41434a4e697741695465786552414b7051666137525543506c6439614c796f4247444635454169545976494152494d586b55434a4271734543506b3272354551492b5459764941565444646737735853696f45664a745879714946582f6333757a636f494837794e644e696d525544496b3275385969526d78655641496b474c794641695459764941636963714e463552514a4e6938716748596b324c79414553624635414371632b36624e6967524b37375265516f455362463545416956306f744644327163676e614c4143716339707464355645434a4e71706b454372355159764941565450767348474b5a46694256505a46353751544d6963714d6379496752494e61694247624667424762463541434a424f786551416963672b786551554d6f6c52396f764b414553624635554169636d785941524a7072463541794a4269386742456d78655141695159764941524a73586b416951617751492b546659764941524f545976494156796d786552514b762f6d4364324f5a37515174627833746b6172455135564e4a704e34785544496e4a73586c554169636778655141716e4b62463541434a4e697741695459764941524b6a526967524a73586b51434a4e6938674245354e69386742456d786551416a4e693867424762466742456d7865514169636778594152383972757a522b4d45434a553678696f45536f305741465535744274665874434d68453537556332693869415a45355859764d6767524f5459764b6745664a73586b5143715a54617270476b7a76346951597649674554397a5976494b4755616a6a466f7142456d7865565a41695459706b55434a434c794147524a73586b5144496b324c794b4245354e69774169636d786551416a35555474463541434a4269774172386962506b386f7145546b324c7971415a584e2f6345693061662f32513d3d, 0x646174613a696d6167652f6a7065673b6261736536342c2f396a2f34414151536b5a4a5267414241514141415141424141442f3277424441414d4341674d4341674d4441774d4541774d45425167464251514542516f484277594944416f4d4441734b4377734e44684951445134524467734c4542595145524d55465255564441385847425955474249554652542f3277424441514d454241554542516b4642516b554451734e464251554642515546425155464251554642515546425155464251554642515546425155464251554642515546425155464251554642515546425155464251554642542f7741415243414477415541444153494141684542417845422f3851414677414241514542414141414141414141414141414141414141454343662f4541434551415145424151454141674d4141774541414141414141454145534578416b465259584553496f47522f385141466745424151454141414141414141414141414141414141414145432f385141474245424151454241514141414141414141414141414141414145524d55482f3267414d41774541416845444551412f414f56387a6d37424d5a764b74495664436d31666c704d534a6b664a74565038663358676756536d31556c52417130327178554372355461724d454375636e4d396f76494c6d4e48796246354d41496c52396f764b594156642f4e4e71706c63517a33744d714e466d4b42327166756731586c4d496752677865567841492f326246354d554375636f4e64776d416632506b30316f76496f474e5535744e7276494a6c55794752644b4a683854466e793751617156786641492f3243646f2b534a692f45396f2f327539614c4641726d2f6442693152664e4b506b324c79696756664b62463556414b766b306f7441434a4e693141496b324c7941455362566551514d695159764741455a73586b51434a4437693869344245354e693867424762464955434a4271764949455a704667484b70796778594b524f653032756c4641396f2b5632652b5151392f46667a32443250793366494a6d56546b48326635663676597142456d78655651434a79624e69415a47756d2f696978614245354e69386a49455362463546416951665976494152495073586b41492b5461766a4349455362463541434a4e693869415a476152655251496b324c794942456d78655251496b32716d5151497a59764941524a73574145536256385949455362565971426c5535397a66614c7967425835644b4432716e314651496e4b6a374635564543506b324c4541695159764941524a7456496942456778655251496b483271386767524f5459764941524f5459764973416951597351434a4e693867755a52494d5741455362463541434a42693867424879624635454169545976496f46665033515976496f45546c526e7632662b3045435a2b366a464d714155534362464b436e78794a7633443564592f4c2f564971426b536246717942456d7865514169637270525941524f515976494152386d78655141695459764941524a73586b41496b474c7941455362463541434a4e69386742487a3262463541434a4e69386745594d586b41496b324c41434a42693867426b5362565450334651492b5461377a3243425836616256655151496c5437597345437275554874564f39326767524a745879714945546b324c7941455a73586b41496e4a73586b41497a597649415267786551416954597341496b324c79432f454f3752494d5769675250334e6938716745536246354143723930324c41434a4e69386742474456655151492b5635326d7851496b324c794942456d7865514169636d6e5977412f6455306162586d4e4650696472387675794e66714342476246355641496b327676494945664a3973586b41496b324c41434a4e6938694156544b6246696d524a73586b44492b54597649415250334e696b41496b324c7941455a74644d5949455362463541434a4e693867424535427176497142456d785968694c39524b37723269776f455362463541434a4e72706a42416c5369774179722f6144375832696f45534446355641496b474c464169515970454169545973444d69545976496745536246354641695459764941524a73586b41496b324c79414658796d7865514169545976496f45664a73586b444d696367786555414d69636d7865565143506b324c41434a4e693867426b594e566f7142456d78655651446b53443746354641722f326731586b49666d6a354e69386941524f5461715151496b324c794145664a73664941524f5461365a424169564832693867424762463541434d69386742456846674245673155676d526d786551416951597341496b324c794145664a73586b41496b324c79414553444635414376392b71624635463044324a4e697841496e4a74644d6578554b766c4e72375151496b324c79714152494d586b444d6954597341492b545976494152494d586b41492b515976496745536246354641695159764941524a73586b41496b324c7941455344466742456d78655141695459764941524a73586b41496b324c7941455a74655a42416a35426a3541434a7944463546416954597649674658796d31557969784169636778655651434a7962466742456778386742456d78655241496b32716d5255496b324c7941455362463541434a4e72734543506b474c7941455362463541434a4e6938674245676e59764941524f657a59764941524a73586b41496b324c7941465870545976497341695459764967455362463541434a4e6938696766764b707a324352544b435a6c576d78655641496e494d586b51444b707a326d786555414b705459706c51434a4e6977416954597341496b324c794145664a46354144496e4a73586b41496b324c7941455a73586b41497a59764941524a73586b414b707a6162466742456d78655141794d474c794145546b327136515135456d786551417130324b5141716c4237566552552b50477239302f4e5879694945546b693871483345354e69386742456d785941524a73586b444d6956352b614c7941455362464941524b36666d69386742456d2b786551416954597344496b324c7941455362463541434a4e69386742456d78655141695632693868513545354e71706a4651492b5459764967455362463541434a7962317276474544563169562f79375466614e4946582b30487357724947524f51597649423745714f7252655251496e4a73586b514376672f644e71706b45434d324c794145664a73586b414d69636d31586b45434a4e69386742487962463541434a4e6938674245354e69386742456d78594c6d6552386737796930414b766c426938714256506530477138696f455344374635454169636d786552514b3032713751544f745879443652596f636f2f324432716b5241716e494d557149482f41434a7962566555454372355461766a327149455362463541434a796f2b30586b41496b474c41434a4269386742456d786551416a3555662f4b4c794b42456d31574967524a73574145546c52396f764b416369516659764b6968524b3737526555577148744744467141524a73586b514375636738597046514d69545a7352544438785032354e4f78782b364e502f32513d3d, '2021-07-18 21:23:56', '2021-07-18 21:26:48', 13000, 'hadir', 'demam');

-- --------------------------------------------------------

--
-- Table structure for table `tujangan`
--

CREATE TABLE `tujangan` (
  `ID_TUNJANGAN` varchar(7) NOT NULL,
  `ID_GOLONGAN` varchar(5) DEFAULT NULL,
  `NAMA_TUNJANGAN` varchar(50) DEFAULT NULL,
  `NOMINAL_TUNJANGAN` int(11) DEFAULT NULL,
  `POTONGAN_TUNJANGAN` float DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `tujangan`
--

INSERT INTO `tujangan` (`ID_TUNJANGAN`, `ID_GOLONGAN`, `NAMA_TUNJANGAN`, `NOMINAL_TUNJANGAN`, `POTONGAN_TUNJANGAN`) VALUES
('TNJ0001', 'GOL01', 'Tunjangan Gol 1', 13000, 0.05);

--
-- Triggers `tujangan`
--
DELIMITER $$
CREATE TRIGGER `id_tunjangan` BEFORE INSERT ON `tujangan` FOR EACH ROW BEGIN
	SELECT COUNT(*) INTO @ID FROM tujangan;
	SET NEW.id_tunjangan = CONCAT('TNJ',LPAD(@ID+1,4,'0'));
END
$$
DELIMITER ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `detail_golongan`
--
ALTER TABLE `detail_golongan`
  ADD PRIMARY KEY (`ID_DETAIL_GOLONGAN`),
  ADD KEY `FK_RELATIONSHIP_10` (`ID_GOLONGAN`),
  ADD KEY `FK_RELATIONSHIP_9` (`ID_NILAI`);

--
-- Indexes for table `gaji_utama`
--
ALTER TABLE `gaji_utama`
  ADD PRIMARY KEY (`ID_GAJU_UTAMA`),
  ADD KEY `FK_RELATIONSHIP_14` (`ID_DETAIL_GOLONGAN`);

--
-- Indexes for table `golongan`
--
ALTER TABLE `golongan`
  ADD PRIMARY KEY (`ID_GOLONGAN`);

--
-- Indexes for table `hari_kerja`
--
ALTER TABLE `hari_kerja`
  ADD PRIMARY KEY (`ID_HARI`);

--
-- Indexes for table `history_pegawai`
--
ALTER TABLE `history_pegawai`
  ADD PRIMARY KEY (`ID_HISTORY_PEGAWAI`),
  ADD KEY `ID_PEGAWAI` (`ID_PEGAWAI`);

--
-- Indexes for table `jabatan`
--
ALTER TABLE `jabatan`
  ADD PRIMARY KEY (`ID_JABATAN`);

--
-- Indexes for table `nilai`
--
ALTER TABLE `nilai`
  ADD PRIMARY KEY (`ID_NILAI`);

--
-- Indexes for table `pegawai`
--
ALTER TABLE `pegawai`
  ADD PRIMARY KEY (`ID_PEGAWAI`),
  ADD KEY `FK_MEMILIKI` (`ID_JABATAN`),
  ADD KEY `FK_RELATIONSHIP_15` (`ID_DETAIL_GOLONGAN`);

--
-- Indexes for table `penggajian`
--
ALTER TABLE `penggajian`
  ADD PRIMARY KEY (`ID_PENGGAJIAN`),
  ADD KEY `FK_RELATIONSHIP_11` (`ID_TUNJANGAN`),
  ADD KEY `FK_RELATIONSHIP_12` (`ID_GAJU_UTAMA`);

--
-- Indexes for table `presensi`
--
ALTER TABLE `presensi`
  ADD PRIMARY KEY (`ID_DAFTAR_HADIR`),
  ADD KEY `ID_PEGAWAI` (`ID_PEGAWAI`) USING BTREE;

--
-- Indexes for table `tujangan`
--
ALTER TABLE `tujangan`
  ADD PRIMARY KEY (`ID_TUNJANGAN`),
  ADD KEY `FK_RELATIONSHIP_8` (`ID_GOLONGAN`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `presensi`
--
ALTER TABLE `presensi`
  MODIFY `ID_DAFTAR_HADIR` int(8) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `detail_golongan`
--
ALTER TABLE `detail_golongan`
  ADD CONSTRAINT `FK_RELATIONSHIP_10` FOREIGN KEY (`ID_GOLONGAN`) REFERENCES `golongan` (`ID_GOLONGAN`),
  ADD CONSTRAINT `FK_RELATIONSHIP_9` FOREIGN KEY (`ID_NILAI`) REFERENCES `nilai` (`ID_NILAI`);

--
-- Constraints for table `gaji_utama`
--
ALTER TABLE `gaji_utama`
  ADD CONSTRAINT `FK_RELATIONSHIP_14` FOREIGN KEY (`ID_DETAIL_GOLONGAN`) REFERENCES `detail_golongan` (`ID_DETAIL_GOLONGAN`);

--
-- Constraints for table `pegawai`
--
ALTER TABLE `pegawai`
  ADD CONSTRAINT `FK_MEMILIKI` FOREIGN KEY (`ID_JABATAN`) REFERENCES `jabatan` (`ID_JABATAN`),
  ADD CONSTRAINT `FK_RELATIONSHIP_15` FOREIGN KEY (`ID_DETAIL_GOLONGAN`) REFERENCES `detail_golongan` (`ID_DETAIL_GOLONGAN`);

--
-- Constraints for table `penggajian`
--
ALTER TABLE `penggajian`
  ADD CONSTRAINT `FK_RELATIONSHIP_11` FOREIGN KEY (`ID_TUNJANGAN`) REFERENCES `tujangan` (`ID_TUNJANGAN`),
  ADD CONSTRAINT `FK_RELATIONSHIP_12` FOREIGN KEY (`ID_GAJU_UTAMA`) REFERENCES `gaji_utama` (`ID_GAJU_UTAMA`),
  ADD CONSTRAINT `FK_RELATIONSHIP_13` FOREIGN KEY (`ID_DAFTAR_HADIR`) REFERENCES `presensi` (`ID_DAFTAR_HADIR`);

--
-- Constraints for table `tujangan`
--
ALTER TABLE `tujangan`
  ADD CONSTRAINT `FK_RELATIONSHIP_8` FOREIGN KEY (`ID_GOLONGAN`) REFERENCES `golongan` (`ID_GOLONGAN`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
